"use client"

import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"
import { Plus } from "lucide-react"
type FAQItem = {
  question: string
  answer: string
}
type FAQSectionProps = {
  title?: string
  faqs?: FAQItem[]
}
const defaultFAQs: FAQItem[] = [
  {
    question: "What is GoUS and how does it help international students?",
    answer:
      "GoUS is a comprehensive platform designed specifically for international students arriving in the United States. We help you compare all major US mobile carriers, understand different plan options, and guide you through the activation process. Our platform aggregates information from AT&T, Verizon, T-Mobile, and dozens of MVNOs like Mint Mobile and Cricket to help you find the best plan for your budget and needs before you even land in America.",
  },
  {
    question: "Which carrier should I choose when I first arrive in the US?",
    answer:
      "The best carrier depends on your priorities. For budget-conscious students, MVNOs like Mint Mobile ($15-25/month) or Cricket Wireless offer great value. If you prioritize coverage and reliability, the big three (AT&T, Verizon, T-Mobile) are excellent choices. We recommend checking coverage maps for your university area and considering prepaid plans initially, which don't require a US credit history. Most international students start with a prepaid MVNO and can always switch later.",
  },
  {
    question: "How do I activate a phone plan and what documents do I need?",
    answer:
      "Activating a US phone plan is straightforward! You'll need: (1) An unlocked phone that works with US networks, (2) Valid identification (passport works), (3) A US address (your university housing address is fine). For prepaid plans, you can often activate online before arriving or at carrier stores. Most MVNOs ship SIM cards to your US address within 2-3 days. No SSN or credit check is required for prepaid plans. Our activation guides walk you through each carrier's specific process step-by-step.",
  },
]
export const FAQSection = ({ title = "Frequently asked questions", faqs = defaultFAQs }: FAQSectionProps) => {
  const [openIndex, setOpenIndex] = useState<number | null>(null)
  const toggleFAQ = (index: number) => {
    setOpenIndex(openIndex === index ? null : index)
  }
  return (
    <section className="w-full py-24 px-8 bg-white">
      <div className="max-w-7xl mx-auto">
        <div className="grid lg:grid-cols-12 gap-16">
          {/* Left Column - Title */}
          <div className="lg:col-span-4">
            <h2
              className="text-[40px] leading-tight font-normal text-[#202020] tracking-tight sticky top-24"
              style={{
                fontFamily: "var(--font-figtree), Figtree",
                fontWeight: "400",
                fontSize: "40px",
              }}
            >
              {title}
            </h2>
          </div>

          {/* Right Column - FAQ Items */}
          <div className="lg:col-span-8">
            <div className="space-y-0">
              {faqs.map((faq, index) => (
                <div key={index} className="border-b border-[#e5e5e5] last:border-b-0">
                  <button
                    onClick={() => toggleFAQ(index)}
                    className="w-full flex items-center justify-between py-6 text-left group hover:opacity-70 transition-opacity duration-150"
                    aria-expanded={openIndex === index}
                  >
                    <span
                      className="text-lg leading-7 text-[#202020] pr-8"
                      style={{
                        fontFamily: "var(--font-figtree), Figtree",
                        fontWeight: "400",
                      }}
                    >
                      {faq.question}
                    </span>
                    <motion.div
                      animate={{
                        rotate: openIndex === index ? 45 : 0,
                      }}
                      transition={{
                        duration: 0.2,
                        ease: [0.4, 0, 0.2, 1],
                      }}
                      className="flex-shrink-0"
                    >
                      <Plus className="w-6 h-6 text-[#202020]" strokeWidth={1.5} />
                    </motion.div>
                  </button>

                  <AnimatePresence initial={false}>
                    {openIndex === index && (
                      <motion.div
                        initial={{
                          height: 0,
                          opacity: 0,
                        }}
                        animate={{
                          height: "auto",
                          opacity: 1,
                        }}
                        exit={{
                          height: 0,
                          opacity: 0,
                        }}
                        transition={{
                          duration: 0.3,
                          ease: [0.4, 0, 0.2, 1],
                        }}
                        className="overflow-hidden"
                      >
                        <div className="pb-6 pr-12">
                          <p
                            className="text-lg leading-6 text-[#666666]"
                            style={{
                              fontFamily: "var(--font-figtree), Figtree",
                            }}
                          >
                            {faq.answer}
                          </p>
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>
  )
}
